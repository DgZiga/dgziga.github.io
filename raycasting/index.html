<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <style>

            /* The animation code */
            @keyframes bobbingTitle {
            0%   {transform:scale(100%)}
            50%  {transform:scale(120%)}
            100% {transform:scale(100%)}
            }
            @font-face {
                font-family: babyShrimp;
                src: url(fonts/BabyShrimp-jERMv.ttf);
            }

            div {
            font-family: babyShrimp;
            }

            body{
                background-color: black;
                margin: 0;
                padding: 0;
            }
            .fullScreen {
                height: 100vh;
                width: 100vw;
            }
            .threeHalves {
                height: 100vh;
                aspect-ratio: 3 / 2;
                max-width: 100vw;
            }
            #render{
                height: 85vh;
                margin: 0 auto;
                margin-bottom: 15vh;
                position: relative;
            }
            #renderCanvas{
                width: 100%;
                height: 100%;
            }
            #topDownCanvas{
                position: absolute;
                width: 16%;
                aspect-ratio: 1 / 1;
                top: 0;
                right: 0;
            }
            #mainMenu{
                position: absolute;
                top:0;
                text-align: center;
                background-color: #add8e6;
            }
            #title{
                animation-name: bobbingTitle;
                animation-duration: 3s;
                animation-iteration-count: infinite
            }
            #subtitle{
                margin-top: -22px;
                margin-left: 41px;
                font-size: 9px;
            }
            .mainMenuButton{
                cursor: pointer;
                background-color: #83b7e6;
                border-radius: 50%;
                padding: 3px 8px;
                border: 1px solid black;
            }
            #levelEditor{
                top:0;
                left: 0;
                position: absolute;
                background-color: red;
                display: none;
            }
            .mobileButton{
                text-align: center;
                width: 10vw;
                box-sizing: border-box;
                position: absolute;
                bottom: 1vh;
                background-color: white;
                border: 3px solid #808080;
                opacity: 0.3;
            }
            #leftCtrl{
                aspect-ratio: 2 / 1;
                left: 2vw;
                border-top-left-radius: 25%;
                border-bottom-left-radius: 25%;
            }
            #centrCtrl{
                aspect-ratio: 2 / 1;
                left: 12vw;
            }
            #rightCtrl{
                aspect-ratio: 2 / 1;
                left: 22vw;
                border-top-right-radius: 25%;
                border-bottom-right-radius: 25%;
            }
            #ctrlRange{
                position: absolute;
                bottom: 1vh;
                left: 2vw;
                width: 30vw;
                z-index: 999;
                aspect-ratio: 6 / 1;
                opacity: 0;
            }
            #backwardsPedal{
                width: 8vw;
                aspect-ratio: 1 / 1.5;
                right: 2vw;
            }
            #fowardPedal{
                width: 8vw;
                aspect-ratio: 1 / 1.5;
                right: 10vw;
            }
            .pedalTxt{
                margin-top: 50%;;
            }
        </style>
    </head>
    <body>
        <div id="render" class="threeHalves">
            <input type="range" min="1" max="100" value="50" id="ctrlRange" oninput="handleSlider(this)" onmouseout="resetSlider(this)" ontouchend="resetSlider(this)">
            <div id="leftCtrl"  class="mobileButton"></div>
            <div id="centrCtrl" class="mobileButton"></div>
            <div id="rightCtrl" class="mobileButton"></div>
            <div ontouchstart="pressButton(BUTTON_FORWARDS)" ontouchend="releaseButton(BUTTON_FORWARDS)" id="fowardPedal" class="mobileButton"><p class="pedalTxt">Fw</p></div>
            <div ontouchstart="pressButton(BUTTON_BACKWARDS)" ontouchend="releaseButton(BUTTON_BACKWARDS)" id="backwardsPedal" class="mobileButton"><p class="pedalTxt">Bw</p></div>
            <canvas width="200" height="200" id="topDownCanvas"></canvas>
            <canvas width="1080" height="720" id="renderCanvas"></canvas>
        </div>
        <div id="mainMenu" class="fullScreen">
            <h1 id="title">Baby Rider</h1>
            <p id="subtitle">(O come diavolo vuoi chiamarlo)</p>
            <span class="mainMenuButton" onclick="startGame()">play</span><br /><br />
            <span class="mainMenuButton" onclick="startLevelEditor()">level editor</span><br /><br />
            <span class="mainMenuButton">options</span>

        </div>
        <div id="levelEditor" class="fullScreen">
            <div id="levelEditorSize">
                Righe: <input type="number" />
                Colonne:<input type="number" />
            </div>
            <div id="levelEditorGrid"></div>
        </div>
        <img src="img/center.png" style="display: none;" id="center">
        <img src="img/left.png" style="display: none;" id="left">
        <img src="img/right.png" style="display: none;" id="right">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="utils.js"></script>
        <script src="raycaster.js"></script>
        <script src="input.js"></script>
        <script src="player.js"></script>
        <script src="arrays.js"></script>
        <script src="graphics.js"></script>
        <script src="main.js"></script>
    </body>
</html>